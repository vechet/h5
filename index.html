<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Paying to Canadia bank merchant</title>
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
  </head>
  <body>
    <script>
      function onBridgeReady() {
        WeixinJSBridge.invoke(
          "getBrandWCPayRequest",
          {
            appId: "wxdff39e214f645db5", //Official Account name, passed by the merchant
            timeStamp: "1712118269", //Timestamp, number of seconds since 1970
            nonceStr: "Zn3yWZtInE5VRnR3F5Bgl0q6I3GQ7a6L", //Random string
            package: "prepay_id=wx03122418870941ce2abd51443a2d5d0000",
            signType: "RSA", //WeChat signature method:
            paySign:
              "IOoCauyEwUxzY1A9lc5MJPgw/pgVWF1XKvpoy54VYi2UHP1RLAllQXklGu57SXu0ygAFdUeITPMYlx827D6DMLZSftyyISKjiLC0Wj0v21936xFTLqUHAXjBMBkhhf7SgSmCyMCY2+a46NoolZVPmy3kOUPsnaad5INOQ9VU9sFF8uWeyn7MnZAQMEWdSIvl5u5eqihDmovbqR+prGGHT4MYBNNTeBZCgYN5nJLUDSWLmDMtpcOOX44yAGb3TlM/GmWFnX8aOhNg91xNRpbPixcoztOacBGTK7P5FWuB+TEILzDNhon6nstyzbBw/Tvw5hrLgUg6D284pjyh+qYYDA==", //WeChat signature
          },
          function (res) {
            if (res.err_msg == "get_brand_wcpay_request:ok") {
            } // The above method can be used to judge the value returned from the frontend. WeChat team reminds you that res.err_msg will return OK after users make payment successfully, but this value is not guaranteed to be absolute reliable.
          }
        );
      }
      if (typeof WeixinJSBridge == "undefined") {
        if (document.addEventListener) {
          document.addEventListener(
            "WeixinJSBridgeReady",
            onBridgeReady,
            false
          );
        } else if (document.attachEvent) {
          document.attachEvent("WeixinJSBridgeReady", onBridgeReady);
          document.attachEvent("onWeixinJSBridgeReady", onBridgeReady);
        }
      } else {
        onBridgeReady();
      }
    </script>
  </body>
</html>
